<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html>
<head>
<title>Heckling at Ontologies</title>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.3/jquery.min.js" type="text/javascript"></script>
<script src="http://tab-slide-out.googlecode.com/files/jquery.tabSlideOut.v1.3.js"></script>
<script type="text/javascript" src="scripts/sparql.js"></script>
<script type="text/javascript" src="scripts/processing-1.2.3.js"></script>
<script type="text/javascript" src="scripts/tbz-stories-v07.js"></script>
<script type="text/javascript" src="scripts/sparqlquery.js"></script>
<script type="text/javascript" src="scripts/tabslide.js"></script>
<link rel='stylesheet' href='styles.css' type='text/css' media='all' /> 
</head>

<body style="margin:0px; background-color:#000;">
<div id="stage">
  <video poster ="../haodemovids/poster.png" loop autoplay controls tabindex="0" width="100%">
    <source src="../haodemovids/s04e01.m4v" type='video/mp4; codecs="avc1.42E01E, mp4a.40.2"'>
    <source src="../haodemovids/s04e01.theora.ogv" type='video/ogg; codecs="theora, vorbis"'> 
    <source src="../haodemovids/s04e01.webm" type='video/webm; codecs="vorbis,vp8"'>
  </video>
</div>
<div id="logger"></div>
<div id="loggersequences"></div>

<!-- FIXME: demo mode uses fixed canvas width and height -->
<canvas id="pCanvas" style="z-index:10; position:absolute; top:0; left:0;width:1440;height:900"></canvas> 
<script type="text/javascript" src="tbz-stories-v07.pjs"></script>
<script type="text/javascript">

///// LOAD PROCESSING SKETCH FUNCTION

// Needs to be in body to initialise correctly
// See script enclosure directly above

//// SETUP SPARQL
	
// Create SPARQL service and make globally accessible
window.sparqler = new SPARQL.Service("/haosparql/");

// Necessary for 4Store to return JSON not XML
sparqler.setRequestHeader("Accept", "application/sparql-results+json");

// The function to call if a SPARQL query fails
function sparqlFailure() 
{
	alert("SPARQL Query Failed");
}

//// SETUP GLOBAL OBJECT DICTIONARY

// All sparql object returns will write to this. This allows 
// i. aysnc operation 
// ii. caching

window.downloadedObjects = new Object();
window.downloadedObjectsActioned = new Object();

//// SETUP GLOBAL OBJECT DOWNLOADED CALLBACK

// This should be overriden by whatever wants to know

window.objectDownloadedCallback = function() {console.log("objectDownloadedCallback: override me")};

//// PROCESSING.JS INIT

var canvas = document.getElementById("pCanvas");

// Attach the sketchProc function to the canvas
var p = new Processing(canvas, sketch);

// SHALL WE START WITH A STORY?

//p.setCurrentStory("http://contextus.net/who/s4e1/highLevelStory");

//p.setCurrentStory("http://contextus.net/who/s4e1/plotBeatsStory");

// OR SHALL WE START WITH A TIMELINE AND AWAIT TIMED CALLBACKS
objectQuery("http://contextus.net/who/s4e1/programmeTimeline");
</script>
<div class="slide-out-div">
  <a class="handle" href="http://github.com/qmat/ontoheckle">Content</a>
  <p> You are watching two datasets being visualised: <a href="http://tobyz.net/tobyzstuff/projects/bbcstories">a semantic annotation</a> of
    an <a href="http://www.bbc.co.uk/programmes/b009w049">episode of Doctor Who</a>, marked up using the <a href="http://www.contextus.net/stories/">BBC Stories ontology</a>, set against
  <a href="http://heckle.at/socialtv">user-generated tweets 'heckled' at the screen</a> by viewers.</p>
  <p> The <a href="http://qmat.net/2011/11/heckling-at-ontologies/">project page</a> explains it all.</p>
  <hr>
  <p><small> Made by <a href="mailto:saul.albert@eecs.qmul.ac.uk">Saul Albert</a> and <a href="mailto:toby.harris@eecs.qmul.ac.uk">Toby Harris</a> of the <a href="http://qmat.net">Media and Arts Technology</a> programme, Queen Mary University of London. 
    </p> 
    <p><a href="http://www.bbc.co.uk/programmes/b009w049">Doctor Who S4E1</a> is &copy; BBC.</small></p>

</div>
<a href="http://github.com/qmat/ontoheckle"><img style="position: absolute; top: 0; right: 0; border: 0; z-index:1001;" src="https://a248.e.akamai.net/assets.github.com/img/71eeaab9d563c2b3c590319b398dd35683265e85/687474703a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f677261795f3664366436642e706e67" alt="Fork me on GitHub"></a>
</body>
</html>
